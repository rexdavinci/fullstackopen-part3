{"version":3,"sources":["Filter.js","PersonForm.js","Button.js","services/person.js","Person.js","Persons.js","Notification.js","App.js","index.js"],"names":["Filter","persons","setSearched","onChange","e","newValue","target","value","toLowerCase","newList","filter","person","length","name","includes","PersonForm","values","addOrUpdatePerson","newName","newNumber","handleName","handleNumber","onSubmit","type","Button","handleClick","text","id","onClick","baseUrl","axios","get","newPerson","post","delete","updatePerson","put","Person","searched","setPersons","setNotification","number","notify","message","setTimeout","window","confirm","personService","then","response","classType","catch","error","Persons","map","key","Notification","notification","className","App","useState","setNewName","setNewNumber","notifyMessage","useEffect","data","preventDefault","allPersons","personExists","find","console","log","concat","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.505b7868.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({persons, setSearched}) =>{\r\n\r\n  const handleSearch = (e) => {\r\n    const newValue = e.target.value.toLowerCase()\r\n    const newList = persons.filter(person => {\r\n      return newValue.length === 0 ? null : person.name.toLowerCase().includes(newValue)\r\n    })\r\n\r\n    return setSearched(newList)\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      filter shown with <input onChange={handleSearch}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({values})=>{\r\n  const {addOrUpdatePerson, newName, newNumber, handleName, handleNumber} = values\r\n  return(\r\n    <form onSubmit={addOrUpdatePerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleName}/>\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumber}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Button = ({handleClick, text, id, name}) => {\r\n  return (\r\n    <button onClick={()=>handleClick(id, name)}>{text}</button>\r\n  )\r\n}\r\n\r\nexport default Button\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () =>{\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newPerson => {\r\n  return axios.post(baseUrl, newPerson)\r\n}\r\n\r\nconst update = (id, updatePerson) => {\r\n  return axios.put(`${baseUrl}/${id}`, updatePerson)\r\n}\r\n\r\nconst del = id => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, del, update}","import React from 'react'\r\nimport Button from './Button'\r\nimport personService from './services/person'\r\n\r\nconst Person = ({searched, setSearched, person, persons, setPersons, setNotification}) => {\r\n  const {name, number, id} = person\r\n\r\n  const notify = () => {\r\n    return (\r\n      setSearched(searched.filter(person => person.id !== id)) &&\r\n      setNotification({message: `Entry ${name} deleted successfully`}) &&\r\n      setTimeout(() => {\r\n        setNotification({})\r\n      }, 5000)\r\n    )\r\n\r\n  }\r\n  \r\n  const handleDelete = (id, name) => {\r\n    return window.confirm(`Delete ${name}?`) ? (\r\n      personService\r\n      .del(id)\r\n      .then(response=>{\r\n        searched ? notify() : \r\n          setPersons(persons.filter(person => person.id !== id))\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          setNotification({message: `Entry ${name} deleted successfully`, classType: 'success'})\r\n          setTimeout(() => {\r\n            setNotification({})\r\n          }, 5000);\r\n          \r\n      }).catch(error=>{\r\n        setNotification({message: `Entry ${name} has already been removed from database!`, classType: 'error'})\r\n          setTimeout(() => {\r\n            setNotification({})\r\n          }, 5000);\r\n      })\r\n    ) : ( null )\r\n    \r\n  }\r\n\r\n  return (\r\n    <>\r\n      <p>{name} - {number} <Button id={id} name={name} handleClick={handleDelete} text='del'/>\r\n      </p>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({values}) => {\r\n  const {setSearched, searched, setPersons, persons, setNotification} = values\r\n\r\n  return searched.length > 0 ? (\r\n    searched.map(person=>{\r\n      return (\r\n        <Person key={person.id} setPersons={setPersons} persons={persons} setSearched={setSearched}searched={searched} person={person} setNotification={setNotification}/>\r\n      )\r\n    })\r\n  ) : (\r\n    persons.map(person=>{\r\n      return (\r\n        <Person key={person.id} setPersons={setPersons} persons={persons} person={person} setNotification={setNotification}/>\r\n      )\r\n    })\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({notification}) => {\r\n  const {message, classType} = notification\r\n  return !notification.message ? null : (\r\n    <div className={classType}>\r\n      <h2>{message}</h2>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect} from 'react'\r\nimport Filter from './Filter'\r\nimport PersonForm from './PersonForm'\r\nimport Persons from './Persons'\r\nimport personService from './services/person'\r\nimport Notification from './Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ searched, setSearched ] = useState([])\r\n  const [ notifyMessage, setNotification ] = useState({message: '', classType: ''})\r\n\r\n  useEffect(()=>{\r\n    personService\r\n    .getAll()\r\n    .then(response => {\r\n      setPersons(response.data)\r\n    })\r\n  }, [])\r\n\r\n  const handleName = (e)=>{\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleNumber =(e)=>{\r\n    setNewNumber(e.target.value)\r\n  }\r\n  \r\n  const addOrUpdatePerson=(e)=>{\r\n    e.preventDefault()\r\n    const newPerson = {name: newName, number: newNumber}\r\n    const allPersons = persons.map(person=>person.name)\r\n    const personExists  = persons.find(person=>person.name === newPerson.name)\r\n    return allPersons.includes(newName) ? (\r\n      window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`) ? (\r\n        personService\r\n          .update(personExists.id, {...personExists, number: newPerson.number})\r\n          .then(response=>{\r\n            setPersons(persons.map(person => person.id !== personExists.id ? person : response.data))\r\n            setNotification({message: `Entry ${newPerson.name} updated!`, classType: 'success'})\r\n            setTimeout(() => {\r\n              setNotification({})\r\n            }, 5000);\r\n          }).catch(error=>{\r\n            console.log(typeof (error.response.data))\r\n            setNotification({message: `Entry ${newPerson.name} has already been removed from database!`, classType: 'error'})\r\n            setTimeout(() => {\r\n              setNotification({})\r\n            }, 5000);\r\n          })\r\n          \r\n        ) : (null)\r\n      ) : (\r\n      personService\r\n        .create(newPerson)\r\n        .then(person => {\r\n          setPersons(persons.concat(person.data))\r\n          setNotification({message: `Entry ${person.data.name} added!`, classType: 'success'})\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setTimeout(() => {\r\n            setNotification({})\r\n          }, 5000);\r\n        }).catch(error=>{\r\n          // console.log()\r\n          setNotification({message: JSON.stringify(error.response.data.error), classType:'error'})\r\n          setTimeout(() => {\r\n            setNotification({})\r\n          }, 5000);\r\n        })\r\n      )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      \r\n      <Notification notification={notifyMessage}/>\r\n\r\n      <Filter persons={persons} setSearched={setSearched}/>\r\n\r\n      <h2>Add a new contact</h2>\r\n      <PersonForm values={{addOrUpdatePerson, newName, newNumber, handleName, handleNumber}}/>\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons values={{setSearched, searched, persons, setPersons,            setNotification}} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}